# Document Classes and Attributes Configuration
classes:
  - $schema: https://json-schema.org/draft/2020-12/schema
    $defs:
      Transaction:
        type: object
        properties:
          Date:
            format: date
            description: Transaction date (MM/DD/YYYY)
            x-aws-idp-confidence-threshold: "0.9"
            type: string
            x-aws-idp-evaluation-method: FUZZY
          Description:
            description: Transaction description or merchant name
            x-aws-idp-confidence-threshold: "0.7"
            type: string
            x-aws-idp-evaluation-method: SEMANTIC
          Amount:
            type: number
            description: >-
              Transaction amount (positive for deposits, negative for
              withdrawals)
            x-aws-idp-evaluation-method: NUMERIC_EXACT
        required:
          - Date
          - Description
          - Amount
      Account Holder Address:
        description: Complete address information for the account holder
        type: object
        properties:
          City:
            description: City name
            x-aws-idp-confidence-threshold: "0.9"
            type: string
            x-aws-idp-evaluation-method: FUZZY
          ZIP Code:
            pattern: \d{5,9}
            description: 5 or 9 digit postal code
            type: string
            x-aws-idp-evaluation-method: EXACT
          Street Name:
            description: Name of the street
            x-aws-idp-confidence-threshold: "0.8"
            type: string
            x-aws-idp-evaluation-method: FUZZY
          Street Number:
            description: House or building number
            x-aws-idp-confidence-threshold: "0.9"
            type: string
            x-aws-idp-evaluation-method: FUZZY
          State:
            type: string
            description: State abbreviation (e.g., CA, NY)
            x-aws-idp-evaluation-method: EXACT
        required:
          - Street Name
          - City
    description: Monthly bank account statement
    type: object
    x-aws-idp-document-type: Bank Statement
    properties:
      Account Holder Address:
        description: Complete address information for the account holder
        $ref: "#/$defs/Account Holder Address"
      Transactions:
        description: List of all transactions in the statement period
        type: array
        x-aws-idp-list-item-description: Individual transaction record
        items:
          $ref: "#/$defs/Transaction"
      Account Number:
        type: string
        description: Primary account identifier
        x-aws-idp-evaluation-method: EXACT
      Statement Period:
        type: string
        description: Statement period (e.g., January 2024)
        x-aws-idp-evaluation-method: FUZZY
    required:
      - Account Number
    $id: Bank Statement

